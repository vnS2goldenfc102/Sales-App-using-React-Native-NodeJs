{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport React, { useState } from \"react\";\nimport UserProfileCard from \"../../components/UserProfileCard/UserProfileCard\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport OptionList from \"../../components/OptionList/OptionList\";\nimport { network } from \"../../constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MyAccountScreen = function MyAccountScreen(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    showBox = _useState2[0],\n    setShowBox = _useState2[1];\n  var user = route.params.user;\n  var userID = user[\"_id\"];\n  console.log(userID);\n  var showConfirmDialog = function showConfirmDialog(id) {\n    return Alert.alert(\"Are your sure?\", \"Are you sure you want to remove your account?\", [{\n      text: \"Yes\",\n      onPress: function onPress() {\n        setShowBox(false);\n        DeleteAccontHandle(id);\n      }\n    }, {\n      text: \"No\"\n    }]);\n  };\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var requestOptions = {\n    method: \"GET\",\n    redirect: \"follow\"\n  };\n  var DeleteAccontHandle = function DeleteAccontHandle(userID) {\n    var fetchURL = network.serverip + \"/delete-user?id=\" + String(userID);\n    console.log(fetchURL);\n    fetch(fetchURL, requestOptions).then(function (response) {\n      return response.json();\n    }).then(function (result) {\n      if (result.success == true) {\n        console.log(result.data);\n        navigation.goBack();\n      } else {\n        setError(result.message);\n      }\n    }).catch(function (error) {\n      return console.log(\"error\", error);\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(View, {\n      style: styles.TopBarContainer,\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.goBack();\n        },\n        children: _jsx(Ionicons, {\n          name: \"arrow-back-circle-outline\",\n          size: 30,\n          color: colors.muted\n        })\n      })\n    }), _jsx(View, {\n      style: styles.screenNameContainer,\n      children: _jsx(Text, {\n        style: styles.screenNameText,\n        children: \"My Account\"\n      })\n    }), _jsx(View, {\n      style: styles.UserProfileCardContianer,\n      children: _jsx(UserProfileCard, {\n        Icon: Ionicons,\n        name: user[\"name\"],\n        email: user[\"email\"]\n      })\n    }), _jsxs(View, {\n      style: styles.OptionsContainer,\n      children: [_jsx(OptionList, {\n        text: \"Change Password\",\n        Icon: Ionicons,\n        iconName: \"key-sharp\",\n        onPress: function onPress() {\n          return navigation.navigate(\"updatepassword\", {\n            userID: userID\n          });\n        }\n      }), _jsx(OptionList, {\n        text: \"Delete My Account\",\n        Icon: MaterialIcons,\n        iconName: \"delete\",\n        type: \"danger\",\n        onPress: function onPress() {\n          return showConfirmDialog(userID);\n        }\n      })]\n    })]\n  });\n};\nexport default MyAccountScreen;\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    flexDirecion: \"row\",\n    backgroundColor: colors.light,\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    padding: 20,\n    flex: 1\n  },\n  TopBarContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\"\n  },\n  UserProfileCardContianer: {\n    width: \"100%\",\n    height: \"25%\"\n  },\n  screenNameContainer: {\n    marginTop: 10,\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    marginBottom: 10\n  },\n  screenNameText: {\n    fontSize: 30,\n    fontWeight: \"800\",\n    color: colors.muted\n  },\n  OptionsContainer: {\n    width: \"100%\"\n  }\n});","map":{"version":3,"names":["React","useState","UserProfileCard","Ionicons","MaterialIcons","OptionList","network","MyAccountScreen","navigation","route","showBox","setShowBox","user","params","userID","console","log","showConfirmDialog","id","Alert","alert","text","onPress","DeleteAccontHandle","error","setError","requestOptions","method","redirect","fetchURL","serverip","String","fetch","then","response","json","result","success","data","goBack","message","catch","styles","container","TopBarContainer","colors","muted","screenNameContainer","screenNameText","UserProfileCardContianer","OptionsContainer","navigate","StyleSheet","create","width","flexDirecion","backgroundColor","light","alignItems","justifyContent","padding","flex","display","flexDirection","height","marginTop","marginBottom","fontSize","fontWeight","color"],"sources":["D:/React Native/EasyBuy-Ecommerce-App/Source/screens/profile/MyAccountScreen.js"],"sourcesContent":["import {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  StatusBar,\r\n  TouchableOpacity,\r\n  Alert,\r\n} from \"react-native\";\r\nimport React, { useState } from \"react\";\r\nimport UserProfileCard from \"../../components/UserProfileCard/UserProfileCard\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport OptionList from \"../../components/OptionList/OptionList\";\r\nimport { network } from \"../../constants\";\r\n\r\nconst MyAccountScreen = ({ navigation, route }) => {\r\n  const [showBox, setShowBox] = useState(true);\r\n  const { user } = route.params;\r\n  const userID = user[\"_id\"];\r\n  console.log(userID);\r\n\r\n  const showConfirmDialog = (id) => {\r\n    return Alert.alert(\r\n      \"Are your sure?\",\r\n      \"Are you sure you want to remove your account?\",\r\n      [\r\n        {\r\n          text: \"Yes\",\r\n          onPress: () => {\r\n            setShowBox(false);\r\n            DeleteAccontHandle(id);\r\n          },\r\n        },\r\n        {\r\n          text: \"No\",\r\n        },\r\n      ]\r\n    );\r\n  };\r\n\r\n  const [error, setError] = useState(\"\");\r\n  var requestOptions = {\r\n    method: \"GET\",\r\n    redirect: \"follow\",\r\n  };\r\n\r\n  const DeleteAccontHandle = (userID) => {\r\n    let fetchURL = network.serverip + \"/delete-user?id=\" + String(userID);\r\n    console.log(fetchURL);\r\n    fetch(fetchURL, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        if (result.success == true) {\r\n          console.log(result.data);\r\n          navigation.goBack();\r\n        } else {\r\n          setError(result.message);\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n  return (\r\n    <View style={styles.container}>\r\n      <StatusBar style=\"auto\"></StatusBar>\r\n      <View style={styles.TopBarContainer}>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            navigation.goBack();\r\n          }}\r\n        >\r\n          <Ionicons\r\n            name=\"arrow-back-circle-outline\"\r\n            size={30}\r\n            color={colors.muted}\r\n          />\r\n        </TouchableOpacity>\r\n      </View>\r\n      <View style={styles.screenNameContainer}>\r\n        <Text style={styles.screenNameText}>My Account</Text>\r\n      </View>\r\n      <View style={styles.UserProfileCardContianer}>\r\n        <UserProfileCard\r\n          Icon={Ionicons}\r\n          name={user[\"name\"]}\r\n          email={user[\"email\"]}\r\n        />\r\n      </View>\r\n      <View style={styles.OptionsContainer}>\r\n        <OptionList\r\n          text={\"Change Password\"}\r\n          Icon={Ionicons}\r\n          iconName={\"key-sharp\"}\r\n          onPress={() =>\r\n            navigation.navigate(\"updatepassword\", {\r\n              userID: userID,\r\n            })\r\n          }\r\n        />\r\n        <OptionList\r\n          text={\"Delete My Account\"}\r\n          Icon={MaterialIcons}\r\n          iconName={\"delete\"}\r\n          type={\"danger\"}\r\n          // onPress={() => DeleteAccontHandle(userID)}\r\n          onPress={() => showConfirmDialog(userID)}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default MyAccountScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: \"100%\",\r\n    flexDirecion: \"row\",\r\n    backgroundColor: colors.light,\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-start\",\r\n    padding: 20,\r\n    flex: 1,\r\n  },\r\n  TopBarContainer: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n  },\r\n  UserProfileCardContianer: {\r\n    width: \"100%\",\r\n    height: \"25%\",\r\n  },\r\n  screenNameContainer: {\r\n    marginTop: 10,\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n    marginBottom: 10,\r\n  },\r\n  screenNameText: {\r\n    fontSize: 30,\r\n    fontWeight: \"800\",\r\n    color: colors.muted,\r\n  },\r\n  OptionsContainer: {\r\n    width: \"100%\",\r\n  },\r\n});\r\n"],"mappings":";;;;;;;AAQA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,eAAe;AACtB,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,aAAa,QAAQ,oBAAoB;AAClD,OAAOC,UAAU;AACjB,SAASC,OAAO;AAA0B;AAAA;AAE1C,IAAMC,eAAe,GAAG,SAAlBA,eAAe,OAA8B;EAAA,IAAxBC,UAAU,QAAVA,UAAU;IAAEC,KAAK,QAALA,KAAK;EAC1C,gBAA8BR,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArCS,OAAO;IAAEC,UAAU;EAC1B,IAAQC,IAAI,GAAKH,KAAK,CAACI,MAAM,CAArBD,IAAI;EACZ,IAAME,MAAM,GAAGF,IAAI,CAAC,KAAK,CAAC;EAC1BG,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;EAEnB,IAAMG,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,EAAE,EAAK;IAChC,OAAOC,KAAK,CAACC,KAAK,CAChB,gBAAgB,EAChB,+CAA+C,EAC/C,CACE;MACEC,IAAI,EAAE,KAAK;MACXC,OAAO,EAAE,mBAAM;QACbX,UAAU,CAAC,KAAK,CAAC;QACjBY,kBAAkB,CAACL,EAAE,CAAC;MACxB;IACF,CAAC,EACD;MACEG,IAAI,EAAE;IACR,CAAC,CACF,CACF;EACH,CAAC;EAED,iBAA0BpB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BuB,KAAK;IAAEC,QAAQ;EACtB,IAAIC,cAAc,GAAG;IACnBC,MAAM,EAAE,KAAK;IACbC,QAAQ,EAAE;EACZ,CAAC;EAED,IAAML,kBAAkB,GAAG,SAArBA,kBAAkB,CAAIT,MAAM,EAAK;IACrC,IAAIe,QAAQ,GAAGvB,OAAO,CAACwB,QAAQ,GAAG,kBAAkB,GAAGC,MAAM,CAACjB,MAAM,CAAC;IACrEC,OAAO,CAACC,GAAG,CAACa,QAAQ,CAAC;IACrBG,KAAK,CAACH,QAAQ,EAAEH,cAAc,CAAC,CAC5BO,IAAI,CAAC,UAACC,QAAQ;MAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;IAAA,EAAC,CACnCF,IAAI,CAAC,UAACG,MAAM,EAAK;MAChB,IAAIA,MAAM,CAACC,OAAO,IAAI,IAAI,EAAE;QAC1BtB,OAAO,CAACC,GAAG,CAACoB,MAAM,CAACE,IAAI,CAAC;QACxB9B,UAAU,CAAC+B,MAAM,EAAE;MACrB,CAAC,MAAM;QACLd,QAAQ,CAACW,MAAM,CAACI,OAAO,CAAC;MAC1B;IACF,CAAC,CAAC,CACDC,KAAK,CAAC,UAACjB,KAAK;MAAA,OAAKT,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEQ,KAAK,CAAC;IAAA,EAAC;EAClD,CAAC;EACD,OACE,MAAC,IAAI;IAAC,KAAK,EAAEkB,MAAM,CAACC,SAAU;IAAA,WAC5B,KAAC,SAAS;MAAC,KAAK,EAAC;IAAM,EAAa,EACpC,KAAC,IAAI;MAAC,KAAK,EAAED,MAAM,CAACE,eAAgB;MAAA,UAClC,KAAC,gBAAgB;QACf,OAAO,EAAE,mBAAM;UACbpC,UAAU,CAAC+B,MAAM,EAAE;QACrB,CAAE;QAAA,UAEF,KAAC,QAAQ;UACP,IAAI,EAAC,2BAA2B;UAChC,IAAI,EAAE,EAAG;UACT,KAAK,EAAEM,MAAM,CAACC;QAAM;MACpB;IACe,EACd,EACP,KAAC,IAAI;MAAC,KAAK,EAAEJ,MAAM,CAACK,mBAAoB;MAAA,UACtC,KAAC,IAAI;QAAC,KAAK,EAAEL,MAAM,CAACM,cAAe;QAAA;MAAA;IAAkB,EAChD,EACP,KAAC,IAAI;MAAC,KAAK,EAAEN,MAAM,CAACO,wBAAyB;MAAA,UAC3C,KAAC,eAAe;QACd,IAAI,EAAE9C,QAAS;QACf,IAAI,EAAES,IAAI,CAAC,MAAM,CAAE;QACnB,KAAK,EAAEA,IAAI,CAAC,OAAO;MAAE;IACrB,EACG,EACP,MAAC,IAAI;MAAC,KAAK,EAAE8B,MAAM,CAACQ,gBAAiB;MAAA,WACnC,KAAC,UAAU;QACT,IAAI,EAAE,iBAAkB;QACxB,IAAI,EAAE/C,QAAS;QACf,QAAQ,EAAE,WAAY;QACtB,OAAO,EAAE;UAAA,OACPK,UAAU,CAAC2C,QAAQ,CAAC,gBAAgB,EAAE;YACpCrC,MAAM,EAAEA;UACV,CAAC,CAAC;QAAA;MACH,EACD,EACF,KAAC,UAAU;QACT,IAAI,EAAE,mBAAoB;QAC1B,IAAI,EAAEV,aAAc;QACpB,QAAQ,EAAE,QAAS;QACnB,IAAI,EAAE,QAAS;QAEf,OAAO,EAAE;UAAA,OAAMa,iBAAiB,CAACH,MAAM,CAAC;QAAA;MAAC,EACzC;IAAA,EACG;EAAA,EACF;AAEX,CAAC;AAED,eAAeP,eAAe;AAE9B,IAAMmC,MAAM,GAAGU,UAAU,CAACC,MAAM,CAAC;EAC/BV,SAAS,EAAE;IACTW,KAAK,EAAE,MAAM;IACbC,YAAY,EAAE,KAAK;IACnBC,eAAe,EAAEX,MAAM,CAACY,KAAK;IAC7BC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,YAAY;IAC5BC,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE;EACR,CAAC;EACDjB,eAAe,EAAE;IACfU,KAAK,EAAE,MAAM;IACbQ,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,KAAK;IACpBJ,cAAc,EAAE,YAAY;IAC5BD,UAAU,EAAE;EACd,CAAC;EACDT,wBAAwB,EAAE;IACxBK,KAAK,EAAE,MAAM;IACbU,MAAM,EAAE;EACV,CAAC;EACDjB,mBAAmB,EAAE;IACnBkB,SAAS,EAAE,EAAE;IACbX,KAAK,EAAE,MAAM;IACbQ,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,KAAK;IACpBJ,cAAc,EAAE,YAAY;IAC5BD,UAAU,EAAE,QAAQ;IACpBQ,YAAY,EAAE;EAChB,CAAC;EACDlB,cAAc,EAAE;IACdmB,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,KAAK;IACjBC,KAAK,EAAExB,MAAM,CAACC;EAChB,CAAC;EACDI,gBAAgB,EAAE;IAChBI,KAAK,EAAE;EACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}