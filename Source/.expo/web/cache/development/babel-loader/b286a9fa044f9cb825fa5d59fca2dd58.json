{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport * as actions from \"../actionTypes/actionTypes\";\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var done = false;\n  switch (action.type) {\n    case actions.CART_ADD:\n      state.map(function (item, index) {\n        if (item._id === action.payload._id) {\n          done = true;\n          if (item.avaiableQuantity > item.quantity) {\n            state[index].quantity = state[index].quantity + 1;\n          } else {\n            console.log(\"out of stock\");\n          }\n          return state;\n        }\n      });\n      if (!done) {\n        return [].concat(_toConsumableArray(state), [{\n          _id: action.payload._id,\n          category: action.payload.category,\n          createdAt: action.payload.createdAt,\n          description: action.payload.description,\n          image: action.payload.image,\n          price: action.payload.price,\n          sku: action.payload.sku,\n          title: action.payload.title,\n          updatedAt: action.payload.updatedAt,\n          avaiableQuantity: action.payload.quantity,\n          quantity: 1\n        }]);\n      }\n    case actions.CART_REMOVE:\n      return state.filter(function (item) {\n        return item._id !== action.payload;\n      });\n    case actions.INCREASE_CART_ITEM_QUANTITY:\n      if (action.payload.type === \"increase\") {\n        state.map(function (item, index) {\n          if (item._id === action.payload.id) {\n            return state[index].quantity = state[index].quantity + 1;\n          }\n        });\n      }\n    case actions.DECREASE_CART_ITEM_QUANTITY:\n      if (action.payload.type === \"decrease\") {\n        state.map(function (item, index) {\n          if (item._id === action.payload.id) {\n            return state[index].quantity = state[index].quantity - 1;\n          }\n        });\n      }\n    case actions.EMPTY_CART:\n      if (action.payload === \"empty\") {\n        state.splice(0, state.length);\n        return state;\n      }\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["actions","reducer","state","action","done","type","CART_ADD","map","item","index","_id","payload","avaiableQuantity","quantity","console","log","category","createdAt","description","image","price","sku","title","updatedAt","CART_REMOVE","filter","INCREASE_CART_ITEM_QUANTITY","id","DECREASE_CART_ITEM_QUANTITY","EMPTY_CART","splice","length"],"sources":["D:/React Native/EasyBuy-Ecommerce-App/Source/states/reducers/cartReducer.js"],"sourcesContent":["import * as actions from \"../actionTypes/actionTypes\";\r\n\r\nconst reducer = (state = [], action) => {\r\n  let done = false;\r\n  switch (action.type) {\r\n    case actions.CART_ADD:\r\n      state.map((item, index) => {\r\n        if (item._id === action.payload._id) {\r\n          done = true;\r\n          if (item.avaiableQuantity > item.quantity) {\r\n            state[index].quantity = state[index].quantity + 1;\r\n          } else {\r\n            console.log(\"out of stock\");\r\n          }\r\n\r\n          return state;\r\n        }\r\n      });\r\n      if (!done) {\r\n        return [\r\n          ...state,\r\n          {\r\n            _id: action.payload._id,\r\n            category: action.payload.category,\r\n            createdAt: action.payload.createdAt,\r\n            description: action.payload.description,\r\n            image: action.payload.image,\r\n            price: action.payload.price,\r\n            sku: action.payload.sku,\r\n            title: action.payload.title,\r\n            updatedAt: action.payload.updatedAt,\r\n            avaiableQuantity: action.payload.quantity,\r\n            quantity: 1,\r\n          },\r\n        ];\r\n      }\r\n\r\n    case actions.CART_REMOVE:\r\n      return state.filter((item) => item._id !== action.payload);\r\n\r\n    case actions.INCREASE_CART_ITEM_QUANTITY:\r\n      if (action.payload.type === \"increase\") {\r\n        state.map((item, index) => {\r\n          if (item._id === action.payload.id) {\r\n            return (state[index].quantity = state[index].quantity + 1);\r\n          }\r\n        });\r\n      }\r\n\r\n    case actions.DECREASE_CART_ITEM_QUANTITY:\r\n      if (action.payload.type === \"decrease\") {\r\n        state.map((item, index) => {\r\n          if (item._id === action.payload.id) {\r\n            return (state[index].quantity = state[index].quantity - 1);\r\n          }\r\n        });\r\n      }\r\n    case actions.EMPTY_CART:\r\n      if (action.payload === \"empty\") {\r\n        state.splice(0, state.length);\r\n        return state;\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}