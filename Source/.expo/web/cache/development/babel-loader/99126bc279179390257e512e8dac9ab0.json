{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport * as React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport NetInfo from \"@react-native-community/netinfo\";\nimport DropdownAlert from \"react-native-dropdownalert\";\nimport styles from \"./InternetConnectionAlert.style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar InternetConnectionAlert = function (_React$Component) {\n  _inherits(InternetConnectionAlert, _React$Component);\n  var _super = _createSuper(InternetConnectionAlert);\n  function InternetConnectionAlert() {\n    var _this;\n    _classCallCheck(this, InternetConnectionAlert);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.listenIsInternetAvailable = function () {\n      var unsubscribe = NetInfo.addEventListener(function (state) {\n        var isConnected = state.isConnected,\n          isInternetReachable = state.isInternetReachable;\n        _this.props.onChange && _this.props.onChange(state);\n        _this.showAlert(Boolean(_this.props.useInternetReachability ? isInternetReachable : isConnected));\n      });\n      return function () {\n        unsubscribe();\n      };\n    };\n    _this.showAlert = function (isConnected) {\n      if (!isConnected) {\n        var _this$props = _this.props,\n          _this$props$type = _this$props.type,\n          type = _this$props$type === void 0 ? \"error\" : _this$props$type,\n          _this$props$title = _this$props.title,\n          title = _this$props$title === void 0 ? \"Internet Connection Problem\" : _this$props$title,\n          _this$props$message = _this$props.message,\n          message = _this$props$message === void 0 ? \"Please check your network connection\" : _this$props$message,\n          payload = _this$props.payload,\n          interval = _this$props.interval;\n        if (_this.dropDownAlertRef) {\n          _this.dropDownAlertRef.alertWithType(type, title, message, payload, interval);\n        }\n      } else {\n        if (_this.dropDownAlertRef) {\n          _this.dropDownAlertRef.closeAction();\n        }\n      }\n    };\n    _this.renderAlert = function () {\n      return _jsx(DropdownAlert, _objectSpread({\n        ref: function ref(_ref) {\n          return _this.dropDownAlertRef = _ref;\n        },\n        tapToCloseEnabled: false,\n        panResponderEnabled: false,\n        closeInterval: 0\n      }, _this.props));\n    };\n    return _this;\n  }\n  _createClass(InternetConnectionAlert, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.listenIsInternetAvailable();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsxs(View, {\n        style: styles.container,\n        children: [this.props.children, this.renderAlert()]\n      });\n    }\n  }]);\n  return InternetConnectionAlert;\n}(React.Component);\nexport { InternetConnectionAlert as default };","map":{"version":3,"sources":["../../lib/InternetConnectionAlert.tsx"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO;AAAC;AAE/B,OAAO,OAAyB,MAAM,iCAAiC;AACvE,OAAO,aAAa,MAAM,4BAA4B;AAItD,OAAO,MAAM;AAAwC;AAAA;AAAA,IAgBhC,uBAAwB;EAAA;EAAA;EAAA;IAAA;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA,MAU3C,yBAAyB,GAAG,YAAK;MAC/B,IAAM,WAAW,GAAG,OAAO,CAAC,gBAAgB,CAAC,UAAC,KAAmB,EAAI;QACnE,IAAQ,WAAW,GAA0B,KAAK,CAA1C,WAAW;UAAE,mBAAmB,GAAK,KAAK,CAA7B,mBAAmB;QACxC,MAAK,KAAK,CAAC,QAAQ,IAAI,MAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC;QACjD,MAAK,SAAS,CACZ,OAAO,CACL,MAAK,KAAK,CAAC,uBAAuB,GAC9B,mBAAmB,GACnB,WAAW,CAChB,CACF;MACH,CAAC,CAAC;MACF,OAAO,YAAK;QACV,WAAW,EAAE;MACf,CAAC;IACH,CAAC;IAAA,MAED,SAAS,GAAG,UAAC,WAAoB,EAAI;MACnC,IAAI,CAAC,WAAW,EAAE;QAChB,kBAMI,MAAK,KAAK;UAAA,+BALZ,IAAI;UAAJ,IAAI,iCAAG,OAAO;UAAA,gCACd,KAAK;UAAL,KAAK,kCAAG,6BAA6B;UAAA,kCACrC,OAAO;UAAP,OAAO,oCAAG,sCAAsC;UAChD,OAAO,eAAP,OAAO;UACP,QAAQ,eAAR,QAAQ;QAEV,IAAI,MAAK,gBAAgB,EAAE;UACzB,MAAK,gBAAgB,CAAC,aAAa,CACjC,IAAI,EACJ,KAAK,EACL,OAAO,EACP,OAAO,EACP,QAAQ,CACT;QACF;OACF,MAAM;QACL,IAAI,MAAK,gBAAgB,EAAE;UACzB,MAAK,gBAAgB,CAAC,WAAW,EAAE;QACpC;MACF;IACH,CAAC;IAAA,MAED,WAAW,GAAG,YAAK;MACjB,OACE,KAAC,aAAa;QACZ,GAAG,EAAE,aAAC,IAAG;UAAA,OAAM,MAAK,gBAAgB,GAAG,IAAG;QAAA,CAAE;QAC5C,iBAAiB,EAAE,KAAM;QACzB,mBAAmB,EAAE,KAAM;QAC3B,aAAa,EAAE;MAAE,GACb,MAAK,KAAK,EACd;IAEN,CAAC;IAAA;EAAA;EAAA;IAAA;IAAA,OAxDD,6BAAiB;MACf,IAAI,CAAC,yBAAyB,EAAE;IAClC;EAAC;IAAA;IAAA,OAwDD,kBAAM;MACJ,OACE,MAAC,IAAI;QAAC,KAAK,EAAE,MAAM,CAAC,SAAU;QAAA,WAC3B,IAAI,CAAC,KAAK,CAAC,QAAQ,EACnB,IAAI,CAAC,WAAW,EAAE;MAAA,EACd;IAEX;EAAC;EAAA;AAAA,EAvEkD,KAAK,CAAC,SAG1D;AAAA,SAHoB,uBAAwB","sourceRoot":"","sourcesContent":["import * as React from \"react\";\nimport { View } from \"react-native\";\nimport NetInfo from \"@react-native-community/netinfo\";\nimport DropdownAlert from \"react-native-dropdownalert\";\n/**\n * ? Local Imports\n */\nimport styles from \"./InternetConnectionAlert.style\";\nexport default class InternetConnectionAlert extends React.Component {\n    dropDownAlertRef;\n    componentDidMount() {\n        this.listenIsInternetAvailable();\n    }\n    listenIsInternetAvailable = () => {\n        const unsubscribe = NetInfo.addEventListener((state) => {\n            const { isConnected, isInternetReachable } = state;\n            this.props.onChange && this.props.onChange(state);\n            this.showAlert(Boolean(this.props.useInternetReachability\n                ? isInternetReachable\n                : isConnected));\n        });\n        return () => {\n            unsubscribe();\n        };\n    };\n    showAlert = (isConnected) => {\n        if (!isConnected) {\n            const { type = \"error\", title = \"Internet Connection Problem\", message = \"Please check your network connection\", payload, interval, } = this.props;\n            if (this.dropDownAlertRef) {\n                this.dropDownAlertRef.alertWithType(type, title, message, payload, interval);\n            }\n        }\n        else {\n            if (this.dropDownAlertRef) {\n                this.dropDownAlertRef.closeAction();\n            }\n        }\n    };\n    renderAlert = () => {\n        return (<DropdownAlert ref={(ref) => (this.dropDownAlertRef = ref)} tapToCloseEnabled={false} panResponderEnabled={false} closeInterval={0} // ? Cancel auto close\n         {...this.props}/>);\n    };\n    render() {\n        return (<View style={styles.container}>\n        {this.props.children}\n        {this.renderAlert()}\n      </View>);\n    }\n}\n//# sourceMappingURL=InternetConnectionAlert.js.map"]},"metadata":{},"sourceType":"module"}